
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>上传文件结果分析 · Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Donald Tsang（圆月弯刀）">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-lightbox/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html" />
    
    
    <link rel="prev" href="openstack-swift-analysis-partition.html" />
    

    
        <link rel="shortcut icon" href='../favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../favicon.ico' type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://b.qqbb.app" target="_blank" class="custom-link">Donald Tsang</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-docs" target="_blank" class="custom-link">Swift Docs</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-handbook" target="_blank" class="custom-link">Swift Handbook</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/ceph-handbook" target="_blank" class="custom-link">Ceph Handbook</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">序言</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">环境配置</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="env.html">
            
                <a href="env.html">
            
                    
                        <b>2.1.</b>
                    
                    swift 2.17 环境配置
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">安装</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="swift-queens-install.html">
            
                <a href="swift-queens-install.html">
            
                    
                        <b>3.1.</b>
                    
                    swift 安装过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="swift-controller-node-add-a-new-storage-node.html">
            
                <a href="swift-controller-node-add-a-new-storage-node.html">
            
                    
                        <b>3.2.</b>
                    
                    增加storage节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="swift-multy-proxy-node-conf.html">
            
                <a href="swift-multy-proxy-node-conf.html">
            
                    
                        <b>3.3.</b>
                    
                    多代理节点安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="swift-multy-proxy-node-ha-with-nginx.html">
            
                <a href="swift-multy-proxy-node-ha-with-nginx.html">
            
                    
                        <b>3.4.</b>
                    
                    多代理节点通过nginx实现HA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="swift-multy-proxy-node-illustration.html">
            
                <a href="swift-multy-proxy-node-illustration.html">
            
                    
                        <b>3.5.</b>
                    
                    多代理节点效果展示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="proxy-node-install.html">
            
                <a href="proxy-node-install.html">
            
                    
                        <b>3.6.</b>
                    
                    代理节点安装
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">认证</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="analysis-openstack-swift-keystone-authentication.html">
            
                <a href="analysis-openstack-swift-keystone-authentication.html">
            
                    
                        <b>4.1.</b>
                    
                    与keystone结合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                <a href="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                    
                        <b>4.2.</b>
                    
                    让swift通过keystone认证
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ring</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="analysis-openstack-swift-overview-ring.html">
            
                <a href="analysis-openstack-swift-overview-ring.html">
            
                    
                        <b>5.1.</b>
                    
                    overview ring
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">partition</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="swift-what-is-a-swift-partition.html">
            
                <a href="swift-what-is-a-swift-partition.html">
            
                    
                        <b>6.1.</b>
                    
                    what is a swift partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="openstack-swift-analysis-partition.html">
            
                <a href="openstack-swift-analysis-partition.html">
            
                    
                        <b>6.2.</b>
                    
                    ring如何生成partition
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="6.3" data-path="openstack-swift-object-storage-result-analysis.html">
            
                <a href="openstack-swift-object-storage-result-analysis.html">
            
                    
                        <b>6.3.</b>
                    
                    上传文件结果分析
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">quota</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                <a href="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                    
                        <b>7.1.</b>
                    
                    enable reseller admin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="swift-account-quota-outcome.html">
            
                <a href="swift-account-quota-outcome.html">
            
                    
                        <b>7.2.</b>
                    
                    设置account的quota
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="swift-account-quota-process.html">
            
                <a href="swift-account-quota-process.html">
            
                    
                        <b>7.3.</b>
                    
                    设置account的quota（分析过程）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="swfit-account-quota-restful-api.html">
            
                <a href="swfit-account-quota-restful-api.html">
            
                    
                        <b>7.4.</b>
                    
                    REST调用accout quota
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">erasure code</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="analysis-openstack-swift-overview_erasure_code.html">
            
                <a href="analysis-openstack-swift-overview_erasure_code.html">
            
                    
                        <b>8.1.</b>
                    
                    与 erasure code 相关
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">测试</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="swift-benchmarking-getput.html">
            
                <a href="swift-benchmarking-getput.html">
            
                    
                        <b>9.1.</b>
                    
                    getput使用
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">日志</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="swift-logfiles.html">
            
                <a href="swift-logfiles.html">
            
                    
                        <b>10.1.</b>
                    
                    组件日志
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">常见问题</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="swift-faq.html">
            
                <a href="swift-faq.html">
            
                    
                        <b>11.1.</b>
                    
                    常见问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="swift-admin-cannot-login.html">
            
                <a href="swift-admin-cannot-login.html">
            
                    
                        <b>11.2.</b>
                    
                    admin被删除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="swift-controller-change-ip.html">
            
                <a href="swift-controller-change-ip.html">
            
                    
                        <b>11.3.</b>
                    
                    controller节点更换IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="swift-demo-cannot-get-user-info.html">
            
                <a href="swift-demo-cannot-get-user-info.html">
            
                    
                        <b>11.4.</b>
                    
                    无法获取用户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="swift-faq-auth-version-require-python-keystoneclient.html">
            
                <a href="swift-faq-auth-version-require-python-keystoneclient.html">
            
                    
                        <b>11.5.</b>
                    
                    auth version require python-keystoneclient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.6" data-path="swift-installed-source-code-address.html">
            
                <a href="swift-installed-source-code-address.html">
            
                    
                        <b>11.6.</b>
                    
                    swift安装包源码地址
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.7" data-path="swift-multy-proxy-node-faq.html">
            
                <a href="swift-multy-proxy-node-faq.html">
            
                    
                        <b>11.7.</b>
                    
                    多代理节点安装出现的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.8" data-path="swift-problem-with-xfs-file-system.html">
            
                <a href="swift-problem-with-xfs-file-system.html">
            
                    
                        <b>11.8.</b>
                    
                    swift storage node 出现 xfs 错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.9" data-path="swift-rsync-dev2-fix-rsyncdconf.html">
            
                <a href="swift-rsync-dev2-fix-rsyncdconf.html">
            
                    
                        <b>11.9.</b>
                    
                    rsync数据通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.10" data-path="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                <a href="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                    
                        <b>11.10.</b>
                    
                    rebalance后数据未通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.11" data-path="swift-storage-node-system-failed-re-mount.html">
            
                <a href="swift-storage-node-system-failed-re-mount.html">
            
                    
                        <b>11.11.</b>
                    
                    storage node 的主板坏了
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.12" data-path="swift-mount-structure-needs-cleaning.html">
            
                <a href="swift-mount-structure-needs-cleaning.html">
            
                    
                        <b>11.12.</b>
                    
                    mount Structure needs cleaning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">笔记</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="note-about-openstack-swift.html">
            
                <a href="note-about-openstack-swift.html">
            
                    
                        <b>12.1.</b>
                    
                    笔记1
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">未来</li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <a target="_blank" href="https://b.qqbb.app/tags/swift/">
            
                    
                        <b>13.1.</b>
                    
                    我的swift探险之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" >
            
                <a target="_blank" href="https://eiuapp.github.io/swift-handbook/">
            
                    
                        <b>13.2.</b>
                    
                    Swift Handbook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">相关资源</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="tech_resource.md">
            
                <span>
            
                    
                        <b>14.1.</b>
                    
                    swift技术工具与资源
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >上传文件结果分析</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><p>&#x5F53;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x540E;&#xFF0C;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x679C;&#x73B0;&#x8C61;&#x5206;&#x6790;</p>
<h2 id="env">env</h2>
<ul>
<li>&#x7CFB;&#x7EDF;&#xFF1A;Ubuntu Server 16.04&#xD7;64 </li>
<li>&#x5B58;&#x50A8;&#x8BBE;&#x7F6E;&#xFF1A;4T</li>
<li>&#x67B6;&#x6784;&#x90E8;&#x7F72;: </li>
</ul>
<table>
<thead>
<tr>
<th>&#x4E3B;&#x673A;&#x540D;</th>
<th style="text-align:center">IP</th>
<th style="text-align:right">&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td>keystone</td>
<td style="text-align:center">192.168.100.50</td>
<td style="text-align:right">keystone node</td>
</tr>
<tr>
<td>Proxy</td>
<td style="text-align:center">192.168.100.50/192.168.0.50</td>
<td style="text-align:right">&#x4EE3;&#x7406;&#x8282;&#x70B9;</td>
</tr>
<tr>
<td>object1</td>
<td style="text-align:center">192.168.100.105</td>
<td style="text-align:right">&#x5B58;&#x50A8;&#x8282;&#x70B9;1(zone1)</td>
</tr>
<tr>
<td>object2</td>
<td style="text-align:center">192.168.100.106</td>
<td style="text-align:right">&#x5B58;&#x50A8;&#x8282;&#x70B9;2(zone1)</td>
</tr>
<tr>
<td>object3</td>
<td style="text-align:center">192.168.100.107</td>
<td style="text-align:right">&#x5B58;&#x50A8;&#x8282;&#x70B9;3(zone1)</td>
</tr>
<tr>
<td>object4</td>
<td style="text-align:center">192.168.100.107</td>
<td style="text-align:right">&#x5B58;&#x50A8;&#x8282;&#x70B9;4(zone1)</td>
</tr>
</tbody>
</table>
<h2 id="step">step</h2>
<h3 id="&#x7406;&#x8BBA;">&#x7406;&#x8BBA;</h3>
<p>&#x4EE5;&#x5BF9;&#x8C61;&#x4E3A;&#x4F8B;&#xFF1A;&#x5728;objects&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x7684;&#x662F;&#x5404;&#x4E2A;partition&#x76EE;&#x5F55;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;partition&#x76EE;&#x5F55;&#x662F;&#x7531;&#x82E5;&#x5E72;&#x4E2A;suffix_path&#x540D;&#x7684;&#x76EE;&#x5F55;&#x548C;&#x4E00;&#x4E2A;hashes.pkl&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#xFF0C;suffix_path&#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x7531;object&#x7684;hash_path&#x540D;&#x6784;&#x6210;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5728;hash_path&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x4E86;&#x5173;&#x4E8E;object&#x7684;&#x6570;&#x636E;&#x548C;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4EE5;partition&#x76EE;&#x5F55;&#x4E3A;&#x5355;&#x4F4D;&#x5C06;&#x6574;&#x4F53;&#x590D;&#x5236;&#x5230;&#x65B0;&#x5206;&#x914D;&#x7684;&#x8282;&#x70B9;&#x78C1;&#x76D8;&#x3002;</p>
<h3 id="&#x89C2;&#x5BDF;&#x73B0;&#x573A;">&#x89C2;&#x5BDF;&#x73B0;&#x573A;</h3>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb<span class="token comment"># ls</span>
accounts  async_pending  containers  objects  tmp
root@swift105:/srv/node/sdb<span class="token comment"># cd objects/</span>
root@swift105:/srv/node/sdb/objects<span class="token comment"># ls</span>
0     128  162  185  20   206  24   257  28   313  33   342  360  38   411  453  491  516  53   555  579  586  624  67   760  848  874  90   915  921  97   981  99   999
1016  130  174  19   200  221  242  264  284  315  330  351  361  392  431  462  492  52   534  562  58   596  636  684  778  868  883  908  92   937  974  987  991  auditor_status_ALL.json
1022  149  18   193  201  226  253  266  309  32   340  354  379  408  446  49   507  524  542  576  582  614  66   706  782  87   899  911  920  952  977  989  992  auditor_status_ALL.json
root@swift105:/srv/node/sdb/objects<span class="token comment">#</span>
</code></pre>
<h3 id="upload">upload</h3>
<p>&#x56E0;&#x4E3A;&#x73B0;&#x5728;&#x7684;&#x6587;&#x4EF6;&#x5C11;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x5BC4;&#x5E0C;&#x671B;&#x4E8E;&#xFF0C;&#x6211;&#x4EEC;&#x4E0A;&#x4F20;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x7684; partition &#xFF0C;&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x7684;partition&#x4E2D;&#x6709;&#x4EC0;&#x4E48;.</p>
<p>&#x901A;&#x8FC7; chrome: <a href="http://192.168.0.50/horizon/project/containers/container/test4" target="_blank">http://192.168.0.50/horizon/project/containers/container/test4</a> &#x4E0A;&#x4F20;&#x4E00;&#x4E2A; object-a.txt &#x6587;&#x4EF6;</p>
<p>&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x5934;&#x5C3E;&#xFF0C;&#x7528;&#x4E8E;&#x7B49;&#x4F1A;&#x6BD4;&#x8F83;&#x3002;</p>
<pre class="language-"><code class="lang-shell">DELL@DESKTOP-MQ9CENU MINGW64 ~/Downloads
$ <span class="token function">head</span> object-a.txt <span class="token operator">&amp;&amp;</span> <span class="token function">tail</span> object-a.txt
<span class="token punctuation">[</span>DEFAULT<span class="token punctuation">]</span>
bind_ip <span class="token operator">=</span> 192.168.100.50
bind_port <span class="token operator">=</span> 6200
<span class="token comment"># bind_timeout = 30</span>
<span class="token comment"># backlog = 4096</span>
user <span class="token operator">=</span> swift
swift_dir <span class="token operator">=</span> /etc/swift
devices <span class="token operator">=</span> /srv/node
mount_check <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token comment"># disable_fallocate = false</span>
<span class="token comment"># dump_timestamp = false</span>
<span class="token comment">#</span>
<span class="token comment"># This is the path of the URL to access the mini web UI.</span>
<span class="token comment"># path = /__profile__</span>
<span class="token comment">#</span>
<span class="token comment"># Clear the data when the wsgi server shutdown.</span>
<span class="token comment"># flush_at_shutdown = false</span>
<span class="token comment">#</span>
<span class="token comment"># unwind the iterator of applications</span>
<span class="token comment"># unwind = false</span>

DELL@DESKTOP-MQ9CENU MINGW64 ~/Downloads
$
</code></pre>
<h3 id="ring-&#x4F1A;&#x4EA7;&#x751F;-partition">ring &#x4F1A;&#x4EA7;&#x751F; partition</h3>
<p>&#x5982;&#x4F55;&#x751F;&#x6210; partition &#x7684;&#x5462;&#xFF0C;&#x8BF7;&#x770B; <a href="../jwl/openstack-swift-analysis-partition">&#x8FD9;&#x91CC;</a> &#x6216;&#x8005; <a href="../post/openstack-swift-analysis-partition">&#x8FD9;&#x91CC;</a> </p>
<h3 id="&#x89C2;&#x5BDF;&#x73B0;&#x573A;">&#x89C2;&#x5BDF;&#x73B0;&#x573A;</h3>
<p>&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4E0B;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;partition&#xFF0C;&#x5E76;&#x590D;&#x5236;3&#x4EFD;&#xFF0C;&#x6211;&#x5728; 100.105&#xFF0C;100.106&#xFF0C;100.107-sdb &#x4E2D;&#x90FD;&#x627E;&#x5230;&#x4E86;&#xFF08;107-sdc &#x4E2D;&#x6CA1;&#x6709;&#xFF09;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x5C31;&#x4EE5; 100.105 &#x4E3A;&#x4F8B;&#xFF0C;&#x8FDB;&#x53BB;&#x5206;&#x6790;&#xFF1A;</p>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects<span class="token comment"># ls</span>
0     119  149  18   193  201  226  253  266  309  32   340  354  379  408  446  49   507  524  542  576  582  614  66   706  782  87   899  911  920  952  977  989  992                      auditor_status_ALL.json
1016  128  162  185  20   206  24   257  28   313  33   342  360  38   411  453  491  516  53   555  579  586  624  67   760  848  874  90   915  921  97   981  99   999
1022  130  174  19   200  221  242  264  284  315  330  351  361  392  431  462  492  52   534  562  58   596  636  684  778  868  883  908  92   937  974  987  991  auditor_status_ALL.json
root@swift105:/srv/node/sdb/objects<span class="token comment">#</span>
</code></pre>
<h3 id="partition&#x76EE;&#x5F55;---119">partition&#x76EE;&#x5F55; - 119</h3>
<p>&#x89C2;&#x5BDF;&#x5230;&#xFF0C;&#x591A;&#x51FA;&#x4E86;&#x4E00;&#x4E2A; 119 &#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8FD9;&#x4E2A; 119 &#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684; object partition&#x4E86;&#x3002;</p>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects<span class="token comment"># cd 119 &amp;&amp; ls </span>
611  hashes.invalid  hashes.pkl
root@swift105:/srv/node/sdb/objects/119<span class="token comment">#</span>
</code></pre>
<ul>
<li>hashes.invalid &#xFF1A; &#x8FD9;&#x4E2A;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x6211;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x8C01;&#x80FD;&#x544A;&#x8BC9;&#x6211;</li>
<li>611 : suffix_path&#x540D;&#x7684;&#x76EE;&#x5F55;</li>
<li>hashes.pkl &#xFF1A; a pickled dictionary.</li>
</ul>
<h4 id="hashespkl">hashes.pkl</h4>
<p>The file itself is a pickled dictionary. The dictionary contains a dictionary where the key is a suffix directory name and the value is the MD5 hash of the directory listing for that suffix. In this manner, the daemon can quickly identify differences between local and remote suffix directories on a per partition basis as the scope of any one hashes.pkl file is a partition directory.</p>
<p>&#x5177;&#x4F53;&#x770B;  <a href="https://docs.openstack.org/swift/queens/overview_replication.html#hashes-pkl" target="_blank">https://docs.openstack.org/swift/queens/overview_replication.html#hashes-pkl</a></p>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects/119<span class="token comment"># cp hashes.pkl ~/a.pkl &amp;&amp; cd &amp;&amp; ls</span>
a.pkl
root@swift105:~<span class="token comment"># python</span>
Python 2.7.12 <span class="token punctuation">(</span>default, Nov 12 2018, 14:36:49<span class="token punctuation">)</span> 
<span class="token punctuation">[</span>GCC 5.4.0 20160609<span class="token punctuation">]</span> on linux2
Type <span class="token string">&quot;help&quot;</span>, <span class="token string">&quot;copyright&quot;</span>, <span class="token string">&quot;credits&quot;</span> or <span class="token string">&quot;license&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token function">import</span> cPickle as pickle
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fr <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">&apos;a.pkl&apos;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> inf <span class="token operator">=</span> pickle.load<span class="token punctuation">(</span>fr<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> print<span class="token punctuation">(</span>inf<span class="token punctuation">)</span>
<span class="token punctuation">{</span>u<span class="token string">&apos;611&apos;</span><span class="token keyword">:</span> <span class="token string">&apos;e1955615281c88159dcc46d12766c6ef&apos;</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fr.close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
root@swift105:~<span class="token comment">#</span>
</code></pre>
<h4 id="hashesinvalid">hashes.invalid</h4>
<p>&#x8FD9;&#x4E2A;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x6211;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x8C01;&#x77E5;&#x9053;&#x7684;&#xFF1F;</p>
<h3 id="suffixpath&#x76EE;&#x5F55;---611">suffix_path&#x76EE;&#x5F55; - 611</h3>
<p>suffix_path&#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x7531;object&#x7684;hash_path&#x540D;&#x6784;&#x6210;&#x7684;&#x76EE;&#x5F55;</p>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects/119<span class="token comment"># cd 611/ &amp;&amp; ls</span>
1df3d15f3a9a2b788e373576bcf97611
root@swift105:/srv/node/sdb/objects/119/611<span class="token comment">#</span>
</code></pre>
<p>&#x6700;&#x540E;3&#x4F4D;&#x662F; &apos;611&apos;</p>
<h3 id="object&#x7684;hashpath&#x76EE;&#x5F55;---1df3d15f3a9a2b788e373576bcf97611">object&#x7684;hash_path&#x76EE;&#x5F55; - 1df3d15f3a9a2b788e373576bcf97611</h3>
<p>&#x5728;hash_path&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x4E86;&#x5173;&#x4E8E;object&#x7684;&#x6570;&#x636E;&#x548C;&#x5143;&#x6570;&#x636E;</p>
<h4 id="object&#x7684;&#x6570;&#x636E;---object-atxt">object&#x7684;&#x6570;&#x636E; - object-a.txt</h4>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects/119/611<span class="token comment"># cd 1df3d15f3a9a2b788e373576bcf97611/ &amp;&amp; ls</span>
1548756536.41498.data
root@swift105:/srv/node/sdb/objects/119/611/1df3d15f3a9a2b788e373576bcf97611<span class="token comment">#</span>
</code></pre>
<p>&#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x6570;&#x636E;&#x5185;&#x5BB9;&#x3002;</p>
<pre class="language-"><code class="lang-shell">root@swift105:/srv/node/sdb/objects/119/611/1df3d15f3a9a2b788e373576bcf97611<span class="token comment"># cp 1548756536.41498.data ~/a.txt &amp;&amp; head ~/a.txt &amp;&amp; tail ~/a.txt</span>
<span class="token punctuation">[</span>DEFAULT<span class="token punctuation">]</span>
bind_ip <span class="token operator">=</span> 192.168.100.50
bind_port <span class="token operator">=</span> 6200
<span class="token comment"># bind_timeout = 30</span>
<span class="token comment"># backlog = 4096</span>
user <span class="token operator">=</span> swift
swift_dir <span class="token operator">=</span> /etc/swift
devices <span class="token operator">=</span> /srv/node
mount_check <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token comment"># disable_fallocate = false</span>
<span class="token comment"># dump_timestamp = false</span>
<span class="token comment">#</span>
<span class="token comment"># This is the path of the URL to access the mini web UI.</span>
<span class="token comment"># path = /__profile__</span>
<span class="token comment">#</span>
<span class="token comment"># Clear the data when the wsgi server shutdown.</span>
<span class="token comment"># flush_at_shutdown = false</span>
<span class="token comment">#</span>
<span class="token comment"># unwind the iterator of applications</span>
<span class="token comment"># unwind = false</span>
root@swift105:/srv/node/sdb/objects/119/611/1df3d15f3a9a2b788e373576bcf97611<span class="token comment">#</span>
</code></pre>
<p>&#x4E0E;&#x4E4B;&#x524D;&#x7684;&#x5185;&#x5BB9;&#x6BD4;&#x8F83;&#xFF0C;&#x77E5;&#x9053;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E00;&#x6837;&#x3002;</p>
<h4 id="object&#x7684;&#x5143;&#x6570;&#x636E;">object&#x7684;&#x5143;&#x6570;&#x636E;</h4>
<p>&#x5143;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x6269;&#x5C55;&#x5C5E;&#x6027;&#xFF08;xattr&#xFF09;&#x4E2D;&#x3002;</p>
<p>&#x90A3;&#x600E;&#x4E48;&#x624D;&#x80FD;&#x770B;&#x5F97;&#x5230;&#x5462;&#xFF1F;</p>
<h2 id="ref">ref</h2>
<ul>
<li><a href="https://docs.openstack.org/swift/queens/overview_replication.html#hashes-pkl" target="_blank">https://docs.openstack.org/swift/queens/overview_replication.html#hashes-pkl</a> </li>
</ul>
<footer class="page-footer"><span class="copyright"><p><a href="https://github.com/eiuapp/swift-handbook" target="_blank">Openstack Swift&#x5B9E;&#x8DF5;&#x6307;&#x5357;</a> | <a href="https://github.com/eiuapp/swift-docs" target="_blank">Openstack Swift&#x6587;&#x6863;&#x9605;&#x8BFB;</a></p><p><a href="https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg" data-lightbox="2fd927ee-fa64-4eca-8ed5-6bd72b573a3c" target="_blank">&#x70B9;&#x51FB;&#x5173;&#x6CE8;&#x3010;servicemesher&#x3011;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;&#x3010;&#x52A0;&#x7FA4;&#x3011;&#x52A0;&#x5165;&#x5B66;&#x4E60;&#x7FA4;</a> | </p>Copyright &#xA9; <a href="https://eiu.app" target="_blank">eiu.app</a> 2017-2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification"> Updated at 
2019-03-13 06:22:24
</span></footer></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="openstack-swift-analysis-partition.html" class="navigation navigation-prev " aria-label="Previous page: ring如何生成partition">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html" class="navigation navigation-next " aria-label="Next page: enable reseller admin">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"上传文件结果分析","level":"6.3","depth":1,"next":{"title":"enable reseller admin","level":"7.1","depth":1,"path":"docs/How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.md","ref":"docs/How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.md","articles":[]},"previous":{"title":"ring如何生成partition","level":"6.2","depth":1,"path":"docs/openstack-swift-analysis-partition.md","ref":"docs/openstack-swift-analysis-partition.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","codesnippet","splitter","page-toc-button","editlink","back-to-top-button","-lunr","-search","search-plus","github-buttons@2.1.0","favicon@^0.0.2","tbfed-pagefooter@^0.0.1","3-ba","theme-default","-highlight","prism","prism-themes","sitemap-general","lightbox","adsense","ga"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"<p><a href=https://github.com/eiuapp/swift-handbook>Openstack Swift实践指南</a> | <a href=https://github.com/eiuapp/swift-docs>Openstack Swift文档阅读</a></p><p><a href=https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg data-lightbox=2fd927ee-fa64-4eca-8ed5-6bd72b573a3c>点击关注【servicemesher】公众号回复【加群】加入学习群</a> | </p>Copyright © <a href=https://eiu.app>eiu.app</a> 2017-2019","modify_label":" Updated at ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"lang":{"shell":"bash"},"css":["prism-themes/themes/prism-ghcolors.css"]},"github":{"url":"https://github.com/eiuapp/swift-handbook"},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/eiuapp/swift-handbook/blob/master/"},"splitter":{},"adsense":{"client":"ca-pub-4029167986768912","slot":"2445941692","format":"auto","element":".page-inner section","position":"bottom"},"codesnippet":{},"sitemap-general":{"prefix":"https://eiu.app/swift-docs/"},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"favicon.ico","bookmark":"favicon.ico"},"lightbox":{"jquery":true},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"github-buttons":{"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"},"3-ba":{"configuration":"auto","token":"11f7d254cfa4e0ca44b175c66d379ecc"},"ga":{"configuration":"auto","token":"UA-93485976-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{}},"theme":"default","author":"Donald Tsang（圆月弯刀）","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)","language":"zh-hans","links":{"sidebar":{"Donald Tsang":"https://b.qqbb.app","Swift Docs":"https://eiuapp.github.io/swift-docs","Swift Handbook":"https://eiuapp.github.io/swift-handbook","Ceph Handbook":"https://eiuapp.github.io/ceph-handbook"}},"gitbook":"*","description":"Swift Handbook - Swift 实践指南  2019年 by Donald Tsang(圆月弯刀) "},"file":{"path":"docs/openstack-swift-object-storage-result-analysis.md","mtime":"2019-03-13T06:22:24.673Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-03-13T06:23:30.925Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-3-ba/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/lightbox.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-adsense/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

