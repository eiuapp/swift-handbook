
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>常见问题 · Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Donald Tsang（圆月弯刀）">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-lightbox/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="swift-admin-cannot-login.html" />
    
    
    <link rel="prev" href="swift-logfiles.html" />
    

    
        <link rel="shortcut icon" href='../favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../favicon.ico' type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://b.qqbb.app" target="_blank" class="custom-link">Donald Tsang</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-docs" target="_blank" class="custom-link">Swift Docs</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-handbook" target="_blank" class="custom-link">Swift Handbook</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/ceph-handbook" target="_blank" class="custom-link">Ceph Handbook</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">序言</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">环境配置</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="env.html">
            
                <a href="env.html">
            
                    
                        <b>2.1.</b>
                    
                    swift 2.17 环境配置
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">安装</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="swift-queens-install.html">
            
                <a href="swift-queens-install.html">
            
                    
                        <b>3.1.</b>
                    
                    swift 安装过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="swift-controller-node-add-a-new-storage-node.html">
            
                <a href="swift-controller-node-add-a-new-storage-node.html">
            
                    
                        <b>3.2.</b>
                    
                    增加storage节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="swift-multy-proxy-node-conf.html">
            
                <a href="swift-multy-proxy-node-conf.html">
            
                    
                        <b>3.3.</b>
                    
                    多代理节点安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="swift-multy-proxy-node-ha-with-nginx.html">
            
                <a href="swift-multy-proxy-node-ha-with-nginx.html">
            
                    
                        <b>3.4.</b>
                    
                    多代理节点通过nginx实现HA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="swift-multy-proxy-node-illustration.html">
            
                <a href="swift-multy-proxy-node-illustration.html">
            
                    
                        <b>3.5.</b>
                    
                    多代理节点效果展示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="proxy-node-install.html">
            
                <a href="proxy-node-install.html">
            
                    
                        <b>3.6.</b>
                    
                    代理节点安装
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">认证</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="analysis-openstack-swift-keystone-authentication.html">
            
                <a href="analysis-openstack-swift-keystone-authentication.html">
            
                    
                        <b>4.1.</b>
                    
                    与keystone结合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                <a href="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                    
                        <b>4.2.</b>
                    
                    让swift通过keystone认证
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ring</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="analysis-openstack-swift-overview-ring.html">
            
                <a href="analysis-openstack-swift-overview-ring.html">
            
                    
                        <b>5.1.</b>
                    
                    overview ring
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">partition</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="swift-what-is-a-swift-partition.html">
            
                <a href="swift-what-is-a-swift-partition.html">
            
                    
                        <b>6.1.</b>
                    
                    what is a swift partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="openstack-swift-analysis-partition.html">
            
                <a href="openstack-swift-analysis-partition.html">
            
                    
                        <b>6.2.</b>
                    
                    ring如何生成partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="openstack-swift-object-storage-result-analysis.html">
            
                <a href="openstack-swift-object-storage-result-analysis.html">
            
                    
                        <b>6.3.</b>
                    
                    上传文件结果分析
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">quota</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                <a href="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                    
                        <b>7.1.</b>
                    
                    enable reseller admin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="swift-account-quota-outcome.html">
            
                <a href="swift-account-quota-outcome.html">
            
                    
                        <b>7.2.</b>
                    
                    设置account的quota
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="swift-account-quota-process.html">
            
                <a href="swift-account-quota-process.html">
            
                    
                        <b>7.3.</b>
                    
                    设置account的quota（分析过程）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="swfit-account-quota-restful-api.html">
            
                <a href="swfit-account-quota-restful-api.html">
            
                    
                        <b>7.4.</b>
                    
                    REST调用accout quota
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">erasure code</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="analysis-openstack-swift-overview_erasure_code.html">
            
                <a href="analysis-openstack-swift-overview_erasure_code.html">
            
                    
                        <b>8.1.</b>
                    
                    与 erasure code 相关
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">测试</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="swift-benchmarking-getput.html">
            
                <a href="swift-benchmarking-getput.html">
            
                    
                        <b>9.1.</b>
                    
                    getput使用
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">日志</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="swift-logfiles.html">
            
                <a href="swift-logfiles.html">
            
                    
                        <b>10.1.</b>
                    
                    组件日志
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">常见问题</li>
        
        
    
        <li class="chapter active" data-level="11.1" data-path="swift-faq.html">
            
                <a href="swift-faq.html">
            
                    
                        <b>11.1.</b>
                    
                    常见问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="swift-admin-cannot-login.html">
            
                <a href="swift-admin-cannot-login.html">
            
                    
                        <b>11.2.</b>
                    
                    admin被删除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="swift-controller-change-ip.html">
            
                <a href="swift-controller-change-ip.html">
            
                    
                        <b>11.3.</b>
                    
                    controller节点更换IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="swift-demo-cannot-get-user-info.html">
            
                <a href="swift-demo-cannot-get-user-info.html">
            
                    
                        <b>11.4.</b>
                    
                    无法获取用户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="swift-faq-auth-version-require-python-keystoneclient.html">
            
                <a href="swift-faq-auth-version-require-python-keystoneclient.html">
            
                    
                        <b>11.5.</b>
                    
                    auth version require python-keystoneclient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.6" data-path="swift-installed-source-code-address.html">
            
                <a href="swift-installed-source-code-address.html">
            
                    
                        <b>11.6.</b>
                    
                    swift安装包源码地址
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.7" data-path="swift-multy-proxy-node-faq.html">
            
                <a href="swift-multy-proxy-node-faq.html">
            
                    
                        <b>11.7.</b>
                    
                    多代理节点安装出现的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.8" data-path="swift-problem-with-xfs-file-system.html">
            
                <a href="swift-problem-with-xfs-file-system.html">
            
                    
                        <b>11.8.</b>
                    
                    swift storage node 出现 xfs 错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.9" data-path="swift-rsync-dev2-fix-rsyncdconf.html">
            
                <a href="swift-rsync-dev2-fix-rsyncdconf.html">
            
                    
                        <b>11.9.</b>
                    
                    rsync数据通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.10" data-path="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                <a href="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                    
                        <b>11.10.</b>
                    
                    rebalance后数据未通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.11" data-path="swift-storage-node-system-failed-re-mount.html">
            
                <a href="swift-storage-node-system-failed-re-mount.html">
            
                    
                        <b>11.11.</b>
                    
                    storage node 的主板坏了
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.12" data-path="swift-mount-structure-needs-cleaning.html">
            
                <a href="swift-mount-structure-needs-cleaning.html">
            
                    
                        <b>11.12.</b>
                    
                    mount Structure needs cleaning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">笔记</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="note-about-openstack-swift.html">
            
                <a href="note-about-openstack-swift.html">
            
                    
                        <b>12.1.</b>
                    
                    笔记1
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">未来</li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <a target="_blank" href="https://b.qqbb.app/tags/swift/">
            
                    
                        <b>13.1.</b>
                    
                    我的swift探险之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" >
            
                <a target="_blank" href="https://eiuapp.github.io/swift-handbook/">
            
                    
                        <b>13.2.</b>
                    
                    Swift Handbook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">相关资源</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="tech_resource.md">
            
                <span>
            
                    
                        <b>14.1.</b>
                    
                    swift技术工具与资源
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >常见问题</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><p>swift &#x5E38;&#x89C1;&#x95EE;&#x9898;</p>
<h2 id="chrome-&#x8BBF;&#x95EE;&#xFF1A;-http192168050horizonauthlogin-&#x8FD4;&#x56DE;-internal-server-error">chrome &#x8BBF;&#x95EE;&#xFF1A; <a href="http://192.168.0.50/horizon/auth/login/" target="_blank">http://192.168.0.50/horizon/auth/login/</a> &#x8FD4;&#x56DE; Internal Server Error</h2>
<p>&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x4FE1;&#x606F;</p>
<pre class="language-"><code class="lang-text">Internal Server Error
The server encountered an internal error or misconfiguration and was unable to complete your request.

Please contact the server administrator at webmaster@localhost to inform them of the time this error occurred, and the actions you performed just before this error.

More information about this error may be available in the server error log.

Apache/2.4.18 (Ubuntu) Server at 192.168.0.50 Port 80
</code></pre>
<p>&#x7136;&#x540E;&#xFF0C;&#x6211;&#x60F3;&#x53BB;&#x4FEE;&#x6539;&#x4E00;&#x4E0B; /etc/hosts &#x6587;&#x4EF6;</p>
<pre class="language-"><code class="lang-shell">E514: <span class="token function">write</span> error <span class="token punctuation">(</span>file system full?<span class="token punctuation">)</span>
</code></pre>
<p>&#x5199;&#x5165;&#x9519;&#x8BEF;&#xFF0C;&#x78C1;&#x76D8;&#x6EE1;&#x4E86;&#xFF1F;</p>
<pre class="language-"><code class="lang-shell">root@controller:/etc<span class="token comment"># df -h</span>
Filesystem      Size  Used Avail Use% Mounted on
udev            3.9G     0  3.9G   0% /dev
tmpfs           797M   49M  748M   7% /run
/dev/sda1        19G   19G     0 100% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
tmpfs           5.0M     0  5.0M   0% /run/lock
tmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup
tmpfs           797M     0  797M   0% /run/user/1000
root@controller:/etc<span class="token comment">#</span>
</code></pre>
<p>&#x662F;&#x6EE1;&#x4E86;&#x3002;</p>
<h2 id="chrome-&#x8BBF;&#x95EE;&#xFF1A;http192168050horizonprojectcontainers-&#x51FA;&#x73B0;&#xFF0C;container-&#x6CA1;&#x6709;&#x5C55;&#x793A;&#x51FA;&#x6765;&#x7684;&#x73B0;&#x8C61;&#x3002;">chrome &#x8BBF;&#x95EE;&#xFF1A;<a href="http://192.168.0.50/horizon/project/containers/" target="_blank">http://192.168.0.50/horizon/project/containers/</a> &#x51FA;&#x73B0;&#xFF0C;container &#x6CA1;&#x6709;&#x5C55;&#x793A;&#x51FA;&#x6765;&#x7684;&#x73B0;&#x8C61;&#x3002;</h2>
<p>&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x68C0;&#x67E5;&#x4E00;&#x4E0B; swift &#x670D;&#x52A1;</p>
<pre class="language-"><code class="lang-shell">root@controller:~<span class="token comment"># . demo-openrc </span>
root@controller:~<span class="token comment"># swift list</span>
Account GET failed: http://controller:8080/v1/AUTH_7d6eaa90d74a4f239963933c3a744df3?format<span class="token operator">=</span>json 503 Service Unavailable  <span class="token punctuation">[</span>first 60 chars of response<span class="token punctuation">]</span> <span class="token operator">&lt;</span>html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Service Unavailable<span class="token operator">&lt;</span>/h1<span class="token operator">&gt;</span><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>The server is currently
Failed Transaction ID: tx1ecd29acbd4e4c889d19d-005c467241
root@controller:~<span class="token comment">#</span>
</code></pre>
<p>&#x62A5;&#x9519;&#x4E86;&#x3002;&#x8BF4;&#x660E; swift &#x670D;&#x52A1;&#x6302;&#x4E86;&#x3002;</p>
<p>&#x53BB; controller &#x67E5;&#x4E00;&#x4E0B; swift-proxy &#x670D;&#x52A1;</p>
<pre class="language-"><code>root@controller:/home/ubuntu# service swift-proxy status
&#x25CF; swift-proxy.service - LSB: Swift proxy server
   Loaded: loaded (/etc/init.d/swift-proxy; bad; vendor preset: enabled)
   Active: active (running) since Tue 2019-01-22 09:18:24 CST; 3min 34s ago
     Docs: man:systemd-sysv-generator(8)
  Process: 1597 ExecStart=/etc/init.d/swift-proxy start (code=exited, status=0/SUCCESS)
    Tasks: 5
   Memory: 102.7M
      CPU: 3.650s
   CGroup: /system.slice/swift-proxy.service
           &#x251C;&#x2500;2250 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;2556 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;2557 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;2558 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x2514;&#x2500;2559 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf

Jan 22 09:21:50 controller proxy-server[2559]: Account GET returning 503 for [] (txn: tx8149ac2f570a43589cc19-005c46702e) (client_ip: 127.0.0.1)
Jan 22 09:21:50 controller proxy-server[2559]: 127.0.0.1 127.0.0.1 22/Jan/2019/01/21/50 GET /v1/AUTH_7d6eaa90d74a4f239963933c3a744df3%3Flimit%3D1001%26format%3Djson HTTP/1.0 503 - python-swiftclie
Jan 22 09:21:54 controller proxy-server[2559]: Account HEAD returning 503 for [] (txn: txa6194df8967840519fa19-005c467032)
Jan 22 09:21:54 controller proxy-server[2559]: - - 22/Jan/2019/01/21/54 HEAD /v1/AUTH_7d6eaa90d74a4f239963933c3a744df3%3Fformat%3Djson HTTP/1.0 503 - Swift - - - - txa6194df8967840519fa19-005c4670
Jan 22 09:21:54 controller proxy-server[2559]: Account HEAD returning 503 for [] (txn: tx82330a029ccc4710a669f-005c467032)
Jan 22 09:21:54 controller proxy-server[2559]: - - 22/Jan/2019/01/21/54 HEAD /v1/AUTH_7d6eaa90d74a4f239963933c3a744df3%3Fformat%3Djson HTTP/1.0 503 - Swift - - - - tx82330a029ccc4710a669f-005c4670
Jan 22 09:21:54 controller proxy-server[2559]: Account GET returning 503 for [] (txn: txa6194df8967840519fa19-005c467032) (client_ip: 127.0.0.1)
Jan 22 09:21:54 controller proxy-server[2559]: 127.0.0.1 127.0.0.1 22/Jan/2019/01/21/54 GET /v1/AUTH_7d6eaa90d74a4f239963933c3a744df3%3Flimit%3D1001%26format%3Djson HTTP/1.0 503 - python-swiftclie
Jan 22 09:21:54 controller proxy-server[2559]: Account GET returning 503 for [] (txn: tx82330a029ccc4710a669f-005c467032) (client_ip: 127.0.0.1)
Jan 22 09:21:54 controller proxy-server[2559]: 127.0.0.1 127.0.0.1 22/Jan/2019/01/21/54 GET /v1/AUTH_7d6eaa90d74a4f239963933c3a744df3%3Flimit%3D1001%26format%3Djson HTTP/1.0 503 - python-swiftclie
root@controller:~# service swift-proxy restart
root@controller:~# service swift-proxy status
&#x25CF; swift-proxy.service - LSB: Swift proxy server
   Loaded: loaded (/etc/init.d/swift-proxy; bad; vendor preset: enabled)
   Active: active (running) since Tue 2019-01-22 09:26:56 CST; 6s ago
     Docs: man:systemd-sysv-generator(8)
  Process: 4688 ExecStop=/etc/init.d/swift-proxy stop (code=exited, status=0/SUCCESS)
  Process: 4699 ExecStart=/etc/init.d/swift-proxy start (code=exited, status=0/SUCCESS)
    Tasks: 5
   Memory: 84.2M
      CPU: 945ms
   CGroup: /system.slice/swift-proxy.service
           &#x251C;&#x2500;4711 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;4720 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;4721 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x251C;&#x2500;4722 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf
           &#x2514;&#x2500;4723 /usr/bin/python /usr/bin/swift-proxy-server /etc/swift/proxy-server.conf

Jan 22 09:26:53 controller proxy-server[4722]: Starting Keystone auth_token middleware
Jan 22 09:26:53 controller proxy-server[4722]: AuthToken middleware is set with keystone_authtoken.service_token_roles_required set to False. This is backwards compatible but deprecated behaviour.
Jan 22 09:26:53 controller proxy-server[4723]: Starting Keystone auth_token middleware
Jan 22 09:26:53 controller proxy-server[4721]: Starting Keystone auth_token middleware
Jan 22 09:26:53 controller proxy-server[4723]: AuthToken middleware is set with keystone_authtoken.service_token_roles_required set to False. This is backwards compatible but deprecated behaviour.
Jan 22 09:26:53 controller proxy-server[4721]: AuthToken middleware is set with keystone_authtoken.service_token_roles_required set to False. This is backwards compatible but deprecated behaviour.
Jan 22 09:26:56 controller swift-proxy[4699]: Starting proxy-server...(/etc/swift/proxy-server.conf)
Jan 22 09:26:56 controller swift-proxy[4699]: No handlers could be found for logger &quot;keystonemiddleware._common.config&quot;
Jan 22 09:26:56 controller swift-proxy[4699]:    ...done.
Jan 22 09:26:56 controller systemd[1]: Started LSB: Swift proxy server.
root@controller:~# . demo-openrc 
root@controller:~# swift list
Account GET failed: http://controller:8080/v1/AUTH_7d6eaa90d74a4f239963933c3a744df3?format=json 503 Service Unavailable  [first 60 chars of response] <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Service Unavailable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The server is currently
Failed Transaction ID: tx1ecd29acbd4e4c889d19d-005c467241
root@controller:~#
</code></pre><p>&#x91CD;&#x542F;&#x540E;&#xFF0C;&#x4F9D;&#x65E7;&#xFF0C;&#x5219;&#x8981;&#x53BB;&#x770B;&#x4E00;&#x4E0B; storage node &#x4E2D;&#x7684; <code>swift-init all status</code> </p>
<p>&#x53D1;&#x73B0;&#x786E;&#x5B9E;&#x662F; storage node &#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5219; <code>swift-init all restart</code> &#x3002;</p>
<p>&#x56DE;&#x5230; controller node &#x68C0;&#x67E5; <code>swift list</code> &#x5C31;&#x6709;&#x4E86;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;chrome &#x4E5F;&#x6709;&#x4E86;&#x3002;</p>
<h2 id="&#x5F53;-swift-proxy-status-&#x62A5;&#x9519;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x67E5;&#x95EE;&#x9898;">&#x5F53; swift-proxy status &#x62A5;&#x9519;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x67E5;&#x95EE;&#x9898;</h2>
<h3 id="proxy-node">proxy node</h3>
<h4 id="&#x627E;&#x95EE;&#x9898;&#x70B9;">&#x627E;&#x95EE;&#x9898;&#x70B9;</h4>
<p><code>telnet storageIP 6200</code> </p>
<p>&#x5982;&#x679C; telnet &#x4E0D;&#x4E86;&#xFF0C;&#x5C31;&#x662F;&#x5BF9;&#x65B9;&#x670D;&#x52A1;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x662F; proxy &#x95EE;&#x9898;&#x3002;</p>
<h3 id="storage-node">storage node</h3>
<h4 id="&#x627E;&#x95EE;&#x9898;&#x70B9;">&#x627E;&#x95EE;&#x9898;&#x70B9;</h4>
<p><code>telnet storageIP 6200</code></p>
<p>&#x5982;&#x679C; telnet &#x4E0D;&#x4E86;&#xFF0C;&#x5C31;&#x662F; &#x670D;&#x52A1; &#x95EE;&#x9898;</p>
<h4 id="&#x670D;&#x52A1;&#x8D77;&#x6765;&#x4E86;&#x6CA1;&#x6709;">&#x670D;&#x52A1;&#x8D77;&#x6765;&#x4E86;&#x6CA1;&#x6709;</h4>
<p><code>netstat -tlnp | grep 6200</code></p>
<p>&#x5982;&#x679C; &#x6CA1;&#x6709;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x6216;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x3002;</p>
<h4 id="swift-init-all-&#x68C0;&#x67E5;">swift-init all &#x68C0;&#x67E5;</h4>
<pre class="language-"><code class="lang-shell">swift-init all status 
swift-init all restart
</code></pre>
<footer class="page-footer"><span class="copyright"><p><a href="https://github.com/eiuapp/swift-handbook" target="_blank">Openstack Swift&#x5B9E;&#x8DF5;&#x6307;&#x5357;</a> | <a href="https://github.com/eiuapp/swift-docs" target="_blank">Openstack Swift&#x6587;&#x6863;&#x9605;&#x8BFB;</a></p><p><a href="https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg" data-lightbox="2fd927ee-fa64-4eca-8ed5-6bd72b573a3c" target="_blank">&#x70B9;&#x51FB;&#x5173;&#x6CE8;&#x3010;servicemesher&#x3011;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;&#x3010;&#x52A0;&#x7FA4;&#x3011;&#x52A0;&#x5165;&#x5B66;&#x4E60;&#x7FA4;</a> | </p>Copyright &#xA9; <a href="https://eiu.app" target="_blank">eiu.app</a> 2017-2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification"> Updated at 
2019-03-13 06:22:24
</span></footer></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="swift-logfiles.html" class="navigation navigation-prev " aria-label="Previous page: 组件日志">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="swift-admin-cannot-login.html" class="navigation navigation-next " aria-label="Next page: admin被删除">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"常见问题","level":"11.1","depth":1,"next":{"title":"admin被删除","level":"11.2","depth":1,"path":"docs/swift-admin-cannot-login.md","ref":"docs/swift-admin-cannot-login.md","articles":[]},"previous":{"title":"组件日志","level":"10.1","depth":1,"path":"docs/swift-logfiles.md","ref":"docs/swift-logfiles.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","codesnippet","splitter","page-toc-button","editlink","back-to-top-button","-lunr","-search","search-plus","github-buttons@2.1.0","favicon@^0.0.2","tbfed-pagefooter@^0.0.1","3-ba","theme-default","-highlight","prism","prism-themes","sitemap-general","lightbox","adsense","ga"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"<p><a href=https://github.com/eiuapp/swift-handbook>Openstack Swift实践指南</a> | <a href=https://github.com/eiuapp/swift-docs>Openstack Swift文档阅读</a></p><p><a href=https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg data-lightbox=2fd927ee-fa64-4eca-8ed5-6bd72b573a3c>点击关注【servicemesher】公众号回复【加群】加入学习群</a> | </p>Copyright © <a href=https://eiu.app>eiu.app</a> 2017-2019","modify_label":" Updated at ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"lang":{"shell":"bash"},"css":["prism-themes/themes/prism-ghcolors.css"]},"github":{"url":"https://github.com/eiuapp/swift-handbook"},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/eiuapp/swift-handbook/blob/master/"},"splitter":{},"adsense":{"client":"ca-pub-4029167986768912","slot":"2445941692","format":"auto","element":".page-inner section","position":"bottom"},"codesnippet":{},"sitemap-general":{"prefix":"https://eiu.app/swift-docs/"},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"favicon.ico","bookmark":"favicon.ico"},"lightbox":{"jquery":true},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"github-buttons":{"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"},"3-ba":{"configuration":"auto","token":"11f7d254cfa4e0ca44b175c66d379ecc"},"ga":{"configuration":"auto","token":"UA-93485976-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{}},"theme":"default","author":"Donald Tsang（圆月弯刀）","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)","language":"zh-hans","links":{"sidebar":{"Donald Tsang":"https://b.qqbb.app","Swift Docs":"https://eiuapp.github.io/swift-docs","Swift Handbook":"https://eiuapp.github.io/swift-handbook","Ceph Handbook":"https://eiuapp.github.io/ceph-handbook"}},"gitbook":"*","description":"Swift Handbook - Swift 实践指南  2019年 by Donald Tsang(圆月弯刀) "},"file":{"path":"docs/swift-faq.md","mtime":"2019-03-13T06:22:24.677Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-03-13T06:23:30.925Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-3-ba/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/lightbox.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-adsense/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

