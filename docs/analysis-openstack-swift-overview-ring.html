
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>overview ring · Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Donald Tsang（圆月弯刀）">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-lightbox/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="swift-what-is-a-swift-partition.html" />
    
    
    <link rel="prev" href="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html" />
    

    
        <link rel="shortcut icon" href='../favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../favicon.ico' type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://b.qqbb.app" target="_blank" class="custom-link">Donald Tsang</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-docs" target="_blank" class="custom-link">Swift Docs</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/swift-handbook" target="_blank" class="custom-link">Swift Handbook</a>
        </li>
    
        
        <li>
            <a href="https://eiuapp.github.io/ceph-handbook" target="_blank" class="custom-link">Ceph Handbook</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">序言</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">环境配置</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="env.html">
            
                <a href="env.html">
            
                    
                        <b>2.1.</b>
                    
                    swift 2.17 环境配置
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">安装</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="swift-queens-install.html">
            
                <a href="swift-queens-install.html">
            
                    
                        <b>3.1.</b>
                    
                    swift 安装过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="swift-controller-node-add-a-new-storage-node.html">
            
                <a href="swift-controller-node-add-a-new-storage-node.html">
            
                    
                        <b>3.2.</b>
                    
                    增加storage节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="swift-multy-proxy-node-conf.html">
            
                <a href="swift-multy-proxy-node-conf.html">
            
                    
                        <b>3.3.</b>
                    
                    多代理节点安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="swift-multy-proxy-node-ha-with-nginx.html">
            
                <a href="swift-multy-proxy-node-ha-with-nginx.html">
            
                    
                        <b>3.4.</b>
                    
                    多代理节点通过nginx实现HA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="swift-multy-proxy-node-illustration.html">
            
                <a href="swift-multy-proxy-node-illustration.html">
            
                    
                        <b>3.5.</b>
                    
                    多代理节点效果展示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="proxy-node-install.html">
            
                <a href="proxy-node-install.html">
            
                    
                        <b>3.6.</b>
                    
                    代理节点安装
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">认证</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="analysis-openstack-swift-keystone-authentication.html">
            
                <a href="analysis-openstack-swift-keystone-authentication.html">
            
                    
                        <b>4.1.</b>
                    
                    与keystone结合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                <a href="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html">
            
                    
                        <b>4.2.</b>
                    
                    让swift通过keystone认证
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ring</li>
        
        
    
        <li class="chapter active" data-level="5.1" data-path="analysis-openstack-swift-overview-ring.html">
            
                <a href="analysis-openstack-swift-overview-ring.html">
            
                    
                        <b>5.1.</b>
                    
                    overview ring
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">partition</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="swift-what-is-a-swift-partition.html">
            
                <a href="swift-what-is-a-swift-partition.html">
            
                    
                        <b>6.1.</b>
                    
                    what is a swift partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="openstack-swift-analysis-partition.html">
            
                <a href="openstack-swift-analysis-partition.html">
            
                    
                        <b>6.2.</b>
                    
                    ring如何生成partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="openstack-swift-object-storage-result-analysis.html">
            
                <a href="openstack-swift-object-storage-result-analysis.html">
            
                    
                        <b>6.3.</b>
                    
                    上传文件结果分析
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">quota</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                <a href="How-to-enable-Reseller-Admin-for-OpenStack-Swift-Object-Storage-and-KeyStone-V3.html">
            
                    
                        <b>7.1.</b>
                    
                    enable reseller admin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="swift-account-quota-outcome.html">
            
                <a href="swift-account-quota-outcome.html">
            
                    
                        <b>7.2.</b>
                    
                    设置account的quota
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="swift-account-quota-process.html">
            
                <a href="swift-account-quota-process.html">
            
                    
                        <b>7.3.</b>
                    
                    设置account的quota（分析过程）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="swfit-account-quota-restful-api.html">
            
                <a href="swfit-account-quota-restful-api.html">
            
                    
                        <b>7.4.</b>
                    
                    REST调用accout quota
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">erasure code</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="analysis-openstack-swift-overview_erasure_code.html">
            
                <a href="analysis-openstack-swift-overview_erasure_code.html">
            
                    
                        <b>8.1.</b>
                    
                    与 erasure code 相关
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">测试</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="swift-benchmarking-getput.html">
            
                <a href="swift-benchmarking-getput.html">
            
                    
                        <b>9.1.</b>
                    
                    getput使用
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">日志</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="swift-logfiles.html">
            
                <a href="swift-logfiles.html">
            
                    
                        <b>10.1.</b>
                    
                    组件日志
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">常见问题</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="swift-faq.html">
            
                <a href="swift-faq.html">
            
                    
                        <b>11.1.</b>
                    
                    常见问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="swift-admin-cannot-login.html">
            
                <a href="swift-admin-cannot-login.html">
            
                    
                        <b>11.2.</b>
                    
                    admin被删除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="swift-controller-change-ip.html">
            
                <a href="swift-controller-change-ip.html">
            
                    
                        <b>11.3.</b>
                    
                    controller节点更换IP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="swift-demo-cannot-get-user-info.html">
            
                <a href="swift-demo-cannot-get-user-info.html">
            
                    
                        <b>11.4.</b>
                    
                    无法获取用户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.5" data-path="swift-faq-auth-version-require-python-keystoneclient.html">
            
                <a href="swift-faq-auth-version-require-python-keystoneclient.html">
            
                    
                        <b>11.5.</b>
                    
                    auth version require python-keystoneclient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.6" data-path="swift-installed-source-code-address.html">
            
                <a href="swift-installed-source-code-address.html">
            
                    
                        <b>11.6.</b>
                    
                    swift安装包源码地址
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.7" data-path="swift-multy-proxy-node-faq.html">
            
                <a href="swift-multy-proxy-node-faq.html">
            
                    
                        <b>11.7.</b>
                    
                    多代理节点安装出现的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.8" data-path="swift-problem-with-xfs-file-system.html">
            
                <a href="swift-problem-with-xfs-file-system.html">
            
                    
                        <b>11.8.</b>
                    
                    swift storage node 出现 xfs 错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.9" data-path="swift-rsync-dev2-fix-rsyncdconf.html">
            
                <a href="swift-rsync-dev2-fix-rsyncdconf.html">
            
                    
                        <b>11.9.</b>
                    
                    rsync数据通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.10" data-path="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                <a href="swift-rsync-storage-node-cannot-get-rebalance-data.html">
            
                    
                        <b>11.10.</b>
                    
                    rebalance后数据未通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.11" data-path="swift-storage-node-system-failed-re-mount.html">
            
                <a href="swift-storage-node-system-failed-re-mount.html">
            
                    
                        <b>11.11.</b>
                    
                    storage node 的主板坏了
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.12" data-path="swift-mount-structure-needs-cleaning.html">
            
                <a href="swift-mount-structure-needs-cleaning.html">
            
                    
                        <b>11.12.</b>
                    
                    mount Structure needs cleaning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">笔记</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="note-about-openstack-swift.html">
            
                <a href="note-about-openstack-swift.html">
            
                    
                        <b>12.1.</b>
                    
                    笔记1
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">未来</li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <a target="_blank" href="https://b.qqbb.app/tags/swift/">
            
                    
                        <b>13.1.</b>
                    
                    我的swift探险之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" >
            
                <a target="_blank" href="https://eiuapp.github.io/swift-handbook/">
            
                    
                        <b>13.2.</b>
                    
                    Swift Handbook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">相关资源</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="tech_resource.md">
            
                <span>
            
                    
                        <b>14.1.</b>
                    
                    swift技术工具与资源
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >overview ring</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><p>+++
title = &quot;openstack swift overview ring&quot;
date = 2019-01-20T00:00:00-08:00
lastmod = 2019-01-21T18:09:25-08:00
tags = [&quot;swift&quot;]
categories = [&quot;swift&quot;]
draft = false
weight = 3002
+++</p>
<h2 id="list-of-devices">list of devices </h2>
<p><a href="https://docs.openstack.org/swift/queens/overview%5Fring.html#list-of-devices" target="_blank">https://docs.openstack.org/swift/queens/overview%5Fring.html#list-of-devices</a></p>
<p>&#x8FD9;&#x91CC;&#x7684; list of devices &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x65B9;&#x5F0F;&#xFF0C;&#x67E5;&#x770B;&#x5F97;&#x5230;&#x3002;</p>
<pre class="language-"><code class="lang-shell">root@controller:~/tmp2<span class="token comment"># cp /etc/swift/account.ring.gz  .</span>
root@controller:~/tmp2<span class="token comment"># gzip -d ./account.ring.gz</span>
gzip: ./account.ring already exists<span class="token punctuation">;</span> <span class="token keyword">do</span> you wish to overwrite <span class="token punctuation">(</span>y or n<span class="token punctuation">)</span>? y
root@controller:~/tmp2<span class="token comment"># tail account.ring                                                                                                                                                                           R1NG&quot;byteorder&quot;: &quot;little&quot;, &quot;devs&quot;: [{&quot;device&quot;: &quot;sdb&quot;, &quot;id&quot;: 0, &quot;ip&quot;: &quot;192.168.0.134&quot;, &quot;meta&quot;: &quot;&quot;, &quot;port&quot;: 6202, &quot;region&quot;: 1, &quot;replication_ip&quot;: &quot;192.168.0.134&quot;, &quot;replication_port&quot;: 6202, &quot;weight&quot;: 100.0, &quot;zone&quot;: 1}, null, {&quot;device&quot;: &quot;sdb&quot;, &quot;id&quot;: 2, &quot;ip&quot;: &quot;192.168.0.127&quot;, &quot;meta&quot;: &quot;&quot;, &quot;port&quot;: 6202, &quot;region&quot;: 1, &quot;replication_ip&quot;: &quot;192.168.0.127&quot;, &quot;replication_port&quot;: 6202, &quot;weight&quot;: 100.0, &quot;zone&quot;: 1}, {&quot;device&quot;: &quot;sdb&quot;, &quot;id&quot;: 3, &quot;ip&quot;: &quot;192.168.0.198&quot;, &quot;meta&quot;: &quot;&quot;, &quot;port&quot;: 6202, &quot;region&quot;: 1, &quot;replication_ip&quot;: &quot;192.168.0.198&quot;, &quot;replication_port&quot;: 6202, &quot;weight&quot;: 100.0, &quot;zone&quot;: 1}, {&quot;device&quot;: &quot;sdb&quot;, &quot;id&quot;: 4, &quot;ip&quot;: &quot;192.168.0.180&quot;, &quot;meta&quot;: &quot;&quot;, &quot;port&quot;: 6202, &quot;region&quot;: 1, &quot;replication_ip&quot;: &quot;192.168.0.180&quot;, &quot;replication_port&quot;: 6202, &quot;weight&quot;: 100.0, &quot;zone&quot;: 1}, {&quot;device&quot;: &quot;sdb&quot;, &quot;id&quot;: 5, &quot;ip&quot;: &quot;192.168.0.135&quot;, &quot;meta&quot;: &quot;&quot;, &quot;port&quot;: 6202, &quot;region&quot;: 1, &quot;replication_ip&quot;: &quot;192.168.0.135&quot;, &quot;replication_port&quot;: 6202, &quot;weight&quot;: 100.0, &quot;zone&quot;: 1}], &quot;part_shift&quot;: 22, &quot;replica_count&quot;: 3}root@controller:~/tmp2#</span>
R1NG<span class="token punctuation">{</span><span class="token string">&quot;byteorder&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;little&quot;</span>, <span class="token string">&quot;devs&quot;</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;device&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;sdb&quot;</span>, <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 0, <span class="token string">&quot;ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.134&quot;</span>, <span class="token string">&quot;meta&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;region&quot;</span><span class="token keyword">:</span> 1, <span class="token string">&quot;replication_ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.134&quot;</span>, <span class="token string">&quot;replication_port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;weight&quot;</span><span class="token keyword">:</span> 100.0, <span class="token string">&quot;zone&quot;</span><span class="token keyword">:</span> 1<span class="token punctuation">}</span>, null, <span class="token punctuation">{</span><span class="token string">&quot;device&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;sdb&quot;</span>, <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 2, <span class="token string">&quot;ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.127&quot;</span>, <span class="token string">&quot;meta&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;region&quot;</span><span class="token keyword">:</span> 1, <span class="token string">&quot;replication_ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.127&quot;</span>, <span class="token string">&quot;replication_port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;weight&quot;</span><span class="token keyword">:</span> 100.0, <span class="token string">&quot;zone&quot;</span><span class="token keyword">:</span> 1<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;device&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;sdb&quot;</span>, <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 3, <span class="token string">&quot;ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.198&quot;</span>, <span class="token string">&quot;meta&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;region&quot;</span><span class="token keyword">:</span> 1, <span class="token string">&quot;replication_ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.198&quot;</span>, <span class="token string">&quot;replication_port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;weight&quot;</span><span class="token keyword">:</span> 100.0, <span class="token string">&quot;zone&quot;</span><span class="token keyword">:</span> 1<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;device&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;sdb&quot;</span>, <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 4, <span class="token string">&quot;ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.180&quot;</span>, <span class="token string">&quot;meta&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;region&quot;</span><span class="token keyword">:</span> 1, <span class="token string">&quot;replication_ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.180&quot;</span>, <span class="token string">&quot;replication_port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;weight&quot;</span><span class="token keyword">:</span> 100.0, <span class="token string">&quot;zone&quot;</span><span class="token keyword">:</span> 1<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;device&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;sdb&quot;</span>, <span class="token string">&quot;id&quot;</span><span class="token keyword">:</span> 5, <span class="token string">&quot;ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.135&quot;</span>, <span class="token string">&quot;meta&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;region&quot;</span><span class="token keyword">:</span> 1, <span class="token string">&quot;replication_ip&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;192.168.0.135&quot;</span>, <span class="token string">&quot;replication_port&quot;</span><span class="token keyword">:</span> 6202, <span class="token string">&quot;weight&quot;</span><span class="token keyword">:</span> 100.0, <span class="token string">&quot;zone&quot;</span><span class="token keyword">:</span> 1<span class="token punctuation">}</span><span class="token punctuation">]</span>, <span class="token string">&quot;part_shift&quot;</span><span class="token keyword">:</span> 22, <span class="token string">&quot;replica_count&quot;</span><span class="token keyword">:</span> 3<span class="token punctuation">}</span>root@controller:~/tmp2<span class="token comment">#</span>
  root@controller:~/tmp2<span class="token comment">#</span>
</code></pre>
<p>&#x683C;&#x5F0F;&#x5316;&#x4E00;&#x4E0B;json&#xFF0C;&#x5982;&#x4E0B;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">&quot;byteorder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;little&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;devs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token property">&quot;device&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdb&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.134&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;region&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.134&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;weight&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zone&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token null">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;device&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdb&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.127&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;region&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.127&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;weight&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zone&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;device&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdb&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.198&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;region&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.198&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;weight&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zone&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;device&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdb&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.180&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;region&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.180&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;weight&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zone&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;device&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdb&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.135&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;region&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.0.135&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;replication_port&quot;</span><span class="token operator">:</span> <span class="token number">6202</span><span class="token punctuation">,</span>
        <span class="token property">&quot;weight&quot;</span><span class="token operator">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zone&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;part_shift&quot;</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token property">&quot;replica_count&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="building-the-ring">building the ring </h2>
<p><a href="https://docs.openstack.org/swift/queens/overview%5Fring.html#building-the-ring" target="_blank">https://docs.openstack.org/swift/queens/overview%5Fring.html#building-the-ring</a></p>
<pre class="language-"><code class="lang-text">First the ring builder calculates the replicanths wanted at each tier in the ring&#x2019;s topology based on weight.

Then the ring builder calculates the replicanths wanted at each tier in the ring&#x2019;s topology based on dispersion.

Then the ring builder calculates the maximum deviation on a single device between its weighted replicanths and wanted replicanths.

Next we interpolate between the two replicanth values (weighted &amp; wanted) at each tier using the specified overload (up to the maximum required overload). It&#x2019;s a linear interpolation, similar to solving for a point on a line between two points - we calculate the slope across the max required overload and then calculate the intersection of the line with the desired overload. This becomes the target.

From the target we calculate the minimum and maximum number of replicas any partition may have in a tier. This becomes the replica-plan.

Finally, we calculate the number of partitions that should ideally be assigned to each device based the replica-plan.

On initial balance (i.e., the first time partitions are placed to generate a ring) we must assign each replica of each partition to the device that desires the most partitions excluding any devices that already have their maximum number of replicas of that partition assigned to some parent tier of that device&#x2019;s failure domain.

When building a new ring based on an old ring, the desired number of partitions each device wants is recalculated from the current replica-plan. Next the partitions to be reassigned are gathered up. Any removed devices have all their assigned partitions unassigned and added to the gathered list. Any partition replicas that (due to the addition of new devices) can be spread out for better durability are unassigned and added to the gathered list. Any devices that have more partitions than they now desire have random partitions unassigned from them and added to the gathered list. Lastly, the gathered partitions are then reassigned to devices using a similar method as in the initial assignment described above.

Whenever a partition has a replica reassigned, the time of the reassignment is recorded. This is taken into account when gathering partitions to reassign so that no partition is moved twice in a configurable amount of time. This configurable amount of time is known internally to the RingBuilder class as min_part_hours. This restriction is ignored for replicas of partitions on devices that have been removed, as device removal should only happens on device failure and there&#x2019;s no choice but to make a reassignment.

The above processes don&#x2019;t always perfectly rebalance a ring due to the random nature of gathering partitions for reassignment. To help reach a more balanced ring, the rebalance process is repeated a fixed number of times until the replica-plan is fulfilled or unable to be fulfilled (indicating we probably can&#x2019;t get perfect balance due to too many partitions recently moved).
</code></pre>
<p>&#x7FFB;&#x8BD1;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-text">&#x9996;&#x5148;&#xFF0C;ring builder &#x6839;&#x636E;weight&#x8BA1;&#x7B97; &#x73AF;&#x7684;&#x62D3;&#x6251;&#x4E2D;&#x6BCF;&#x5C42;&#x6240;&#x9700;&#x7684; replicanths&#x3002;

&#x7136;&#x540E;&#xFF0C;ring builder &#x6839;&#x636E;dispersion&#x8BA1;&#x7B97; &#x73AF;&#x5F62;&#x62D3;&#x6251;&#x4E2D;&#x6BCF;&#x5C42;&#x6240;&#x9700;&#x7684; replicanths&#x3002;

&#x7136;&#x540E;&#xFF0C;ring builder &#x8BA1;&#x7B97;&#x5355;&#x4E2A;&#x8BBE;&#x5907;&#x5728;&#x5176;weighted replicanths&#x548C;wanted replicanths&#x4E4B;&#x95F4;&#x7684;&#x6700;&#x5927;&#x504F;&#x5DEE;&#x3002;

&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x8FC7;&#x8F7D;&#xFF08;&#x76F4;&#x5230;&#x6700;&#x5927;&#x6240;&#x9700;&#x7684;&#x8FC7;&#x8F7D;&#xFF09;&#x5728;&#x6BCF;&#x5C42;&#x7684;&#x4E24;&#x4E2A;replicanth&#x503C;&#xFF08;weighted &amp; wanted&#xFF09;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x63D2;&#x503C;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x6C42;&#x89E3;&#x4E24;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x76F4;&#x7EBF;&#x4E0A;&#x7684;&#x70B9; - &#x6211;&#x4EEC;&#x8BA1;&#x7B97;max required overload&#x7684;&#x659C;&#x7387;&#xFF0C;&#x7136;&#x540E;&#x8BA1;&#x7B97;&#x8BE5;&#x7EBF;&#x4E0E;desired overload&#x7684;&#x4EA4;&#x70B9;&#x3002;&#x8FD9;&#x6210;&#x4E3A;&#x76EE;&#x6807;&#x3002;

&#x4ECE;&#x76EE;&#x6807;, &#x6211;&#x4EEC;&#x8BA1;&#x7B97; &#x5728;&#x5C42;&#x4E2D;&#x7684; any partition &#x53EF;&#x80FD;&#x5177;&#x6709;&#x7684;&#x6700;&#x5C0F;&#x548C;&#x6700;&#x5927;replicas&#x6570;&#x3002;&#x8FD9;&#x6210;&#x4E3A;replica-plan&#x3002;

Finally, we calculate the number of partitions that should ideally be assigned to each device based the replica-plan.

On initial balance&#xFF08;&#x5373;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x653E;&#x7F6E;&#x5206;&#x533A;&#x4EE5;&#x751F;&#x6210;&#x73AF;&#xFF09;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C06;&#x6BCF;&#x4E2A;&#x5206;&#x533A;&#x7684;&#x6BCF;&#x4E2A;&#x526F;&#x672C;&#x5206;&#x914D;&#x7ED9;&#x9700;&#x8981;&#x6700;&#x591A;&#x5206;&#x533A;&#x7684;&#x8BBE;&#x5907;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x5DF2;&#x5206;&#x914D;&#x7ED9;&#x67D0;&#x4E9B;&#x5206;&#x533A;&#x7684;&#x6700;&#x5927;&#x5206;&#x533A;&#x526F;&#x672C;&#x6570;&#x7684;&#x8BBE;&#x5907;&#x8BE5;&#x8BBE;&#x5907;&#x7684;&#x6545;&#x969C;&#x57DF;&#x7684;&#x7236;&#x5C42;&#x3002;

&#x5F53;&#x57FA;&#x4E8E;&#x65E7;&#x73AF;&#x800C;&#x5EFA;&#x7ACB;&#x65B0;&#x73AF;&#x65F6;&#xFF0C;&#x4ECE;&#x5F53;&#x524D;replica-plan&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x8BBE;&#x5907;&#x6240;&#x9700;&#x7684;&#x5206;&#x533A;&#x6570;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x5C06;&#x6536;&#x96C6;&#x8981;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7684;&#x5206;&#x533A;&#x3002;&#x4EFB;&#x4F55;&#x5DF2;&#x5220;&#x9664;&#x7684;&#x8BBE;&#x5907;&#x90FD;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x5DF2;&#x5206;&#x914D;&#x7684;&#x5206;&#x533A;&#x53D6;&#x6D88;&#x5206;&#x914D;&#x5E76;&#x6DFB;&#x52A0;&#x5230;gathered list&#x4E2D;&#x3002;&#x4EFB;&#x4F55;&#x5206;&#x533A;&#x526F;&#x672C;&#xFF08;&#x7531;&#x4E8E;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x8BBE;&#x5907;&#xFF09;&#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x6563;&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x597D;&#x7684;&#x6301;&#x4E45;&#x6027;&#xFF0C;&#x8FD9;&#x4E9B;&#x526F;&#x672C;&#x662F;&#x672A;&#x5206;&#x914D;&#x7684;&#xFF0C;&#x4F1A;&#x6DFB;&#x52A0;&#x5230;gathered list&#x4E2D;&#x3002;&#x4EFB;&#x4F55;&#x5177;&#x6709;&#x6BD4;&#x73B0;&#x5728;&#x66F4;&#x591A;&#x5206;&#x533A;&#x7684;&#x8BBE;&#x5907;&#x90FD;&#x4F1A;&#x4ECE;&#x5B83;&#x4EEC;&#x4E2D;&#x53D6;&#x6D88;&#x5206;&#x914D;&#x968F;&#x673A;&#x5206;&#x533A;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5230;gathered list&#x4E2D;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x4E0E;&#x4E0A;&#x8FF0;&#x521D;&#x59CB;&#x5206;&#x914D;&#x4E2D;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x6536;&#x96C6;&#x7684;&#x5206;&#x533A;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7ED9;&#x8BBE;&#x5907;&#x3002;

&#x6BCF;&#x5F53;&#x5206;&#x533A;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x526F;&#x672C;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8BB0;&#x5F55;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5728;&#x6536;&#x96C6;&#x5206;&#x533A;&#x4EE5;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x65F6;&#x4F1A;&#x8003;&#x8651;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x4E0D;&#x4F1A;&#x79FB;&#x52A8;&#x5206;&#x533A;&#x4E24;&#x6B21;&#x3002;&#x8FD9;&#x4E2A;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x95F4;&#x91CF;&#x5728;RingBuilder&#x7C7B;&#x5185;&#x90E8;&#x79F0;&#x4E3A;min_part_hours&#x3002;&#x5BF9;&#x4E8E;&#x5DF2;&#x5220;&#x9664;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x7684;&#x5206;&#x533A;&#x526F;&#x672C;&#xFF0C;&#x5C06;&#x5FFD;&#x7565;&#x6B64;&#x9650;&#x5236;&#xFF0C;&#x56E0;&#x4E3A;&#x8BBE;&#x5907;&#x5220;&#x9664;&#x5E94;&#x4EC5;&#x5728;&#x8BBE;&#x5907;&#x6545;&#x969C;&#x65F6;&#x53D1;&#x751F;&#xFF0C;&#x5E76;&#x4E14;&#x9664;&#x4E86;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x4E4B;&#x5916;&#x522B;&#x65E0;&#x9009;&#x62E9;&#x3002;

&#x7531;&#x4E8E;&#x6536;&#x96C6;&#x5206;&#x533A;&#x7528;&#x4E8E;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7684;&#x968F;&#x673A;&#x6027;&#x8D28;&#xFF0C;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x80FD;&#x5B8C;&#x7F8E;&#x5730;rebalance a ring&#x3002;&#x4E3A;&#x4E86;&#x5E2E;&#x52A9;reach a more balanced ring&#xFF0C;&#x91CD;&#x65B0;&#x5E73;&#x8861;&#x8FC7;&#x7A0B;&#x91CD;&#x590D;&#x56FA;&#x5B9A;&#x6B21;&#x6570;&#xFF0C;until replica-plan is fulfilled or unable to be fulfilled&#xFF08;&#x8868;&#x660E;, &#x7531;&#x4E8E;&#x6700;&#x8FD1;&#x79FB;&#x52A8;&#x7684;&#x5206;&#x533A;&#x592A;&#x591A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x83B7;&#x5F97; perfect balance&#xFF09;&#x3002;
</code></pre>
<p>&#x8FD9;&#x91CC;&#x662F;&#x5BF9;</p>
<footer class="page-footer"><span class="copyright"><p><a href="https://github.com/eiuapp/swift-handbook" target="_blank">Openstack Swift&#x5B9E;&#x8DF5;&#x6307;&#x5357;</a> | <a href="https://github.com/eiuapp/swift-docs" target="_blank">Openstack Swift&#x6587;&#x6863;&#x9605;&#x8BFB;</a></p><p><a href="https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg" data-lightbox="2fd927ee-fa64-4eca-8ed5-6bd72b573a3c" target="_blank">&#x70B9;&#x51FB;&#x5173;&#x6CE8;&#x3010;servicemesher&#x3011;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;&#x3010;&#x52A0;&#x7FA4;&#x3011;&#x52A0;&#x5165;&#x5B66;&#x4E60;&#x7FA4;</a> | </p>Copyright &#xA9; <a href="https://eiu.app" target="_blank">eiu.app</a> 2017-2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification"> Updated at 
2019-03-13 06:22:24
</span></footer></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="swift-keystone-auth-with-jinweilai-openstack-dev-env2.html" class="navigation navigation-prev " aria-label="Previous page: 让swift通过keystone认证">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="swift-what-is-a-swift-partition.html" class="navigation navigation-next " aria-label="Next page: what is a swift partition">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"overview ring","level":"5.1","depth":1,"next":{"title":"what is a swift partition","level":"6.1","depth":1,"path":"docs/swift-what-is-a-swift-partition.md","ref":"docs/swift-what-is-a-swift-partition.md","articles":[]},"previous":{"title":"让swift通过keystone认证","level":"4.2","depth":1,"path":"docs/swift-keystone-auth-with-jinweilai-openstack-dev-env2.md","ref":"docs/swift-keystone-auth-with-jinweilai-openstack-dev-env2.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","codesnippet","splitter","page-toc-button","editlink","back-to-top-button","-lunr","-search","search-plus","github-buttons@2.1.0","favicon@^0.0.2","tbfed-pagefooter@^0.0.1","3-ba","theme-default","-highlight","prism","prism-themes","sitemap-general","lightbox","adsense","ga"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"<p><a href=https://github.com/eiuapp/swift-handbook>Openstack Swift实践指南</a> | <a href=https://github.com/eiuapp/swift-docs>Openstack Swift文档阅读</a></p><p><a href=https://res.cloudinary.com/dmtixvmgt/image/upload/v1539022273/wechat-qrcode_cml5dm.jpg data-lightbox=2fd927ee-fa64-4eca-8ed5-6bd72b573a3c>点击关注【servicemesher】公众号回复【加群】加入学习群</a> | </p>Copyright © <a href=https://eiu.app>eiu.app</a> 2017-2019","modify_label":" Updated at ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"lang":{"shell":"bash"},"css":["prism-themes/themes/prism-ghcolors.css"]},"github":{"url":"https://github.com/eiuapp/swift-handbook"},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/eiuapp/swift-handbook/blob/master/"},"splitter":{},"adsense":{"client":"ca-pub-4029167986768912","slot":"2445941692","format":"auto","element":".page-inner section","position":"bottom"},"codesnippet":{},"sitemap-general":{"prefix":"https://eiu.app/swift-docs/"},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"favicon.ico","bookmark":"favicon.ico"},"lightbox":{"jquery":true},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"github-buttons":{"repo":"eiuapp/swift-handbook","types":["star"],"size":"small"},"3-ba":{"configuration":"auto","token":"11f7d254cfa4e0ca44b175c66d379ecc"},"ga":{"configuration":"auto","token":"UA-93485976-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{}},"theme":"default","author":"Donald Tsang（圆月弯刀）","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Swift Handbook - Swift 实践指南 by Donald Tsang(圆月弯刀)","language":"zh-hans","links":{"sidebar":{"Donald Tsang":"https://b.qqbb.app","Swift Docs":"https://eiuapp.github.io/swift-docs","Swift Handbook":"https://eiuapp.github.io/swift-handbook","Ceph Handbook":"https://eiuapp.github.io/ceph-handbook"}},"gitbook":"*","description":"Swift Handbook - Swift 实践指南  2019年 by Donald Tsang(圆月弯刀) "},"file":{"path":"docs/analysis-openstack-swift-overview-ring.md","mtime":"2019-03-13T06:22:24.673Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-03-13T06:23:30.925Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-3-ba/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/lightbox.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-adsense/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

